# Code

This directory contains all Python scripts used to run the model(s), process results and create plots.

**Sub-directories:**

- `cluster`: everything cluster related.

- `legacy_code`: old/unused scripts which I kept around since you never know

  - `commitment_run_oggm.py`: Run the OGGM flowline model for all glaciers of the Rofental Basin under a random climate based on the HistAlp climate between 1984 and 2014. The random model is initialized with the same seed (12), the get reproducible results. The run output is stored with the suffix `_commitment` in the working directory (`../working_directories/commitment_run_oggm/`) as netCDF file.

  - `commitment_run_vas.py`: Run the volume/area scaling model for all glaciers of the Rofental Basin under a random climate based on the HistAlp climate between 1984
    and 2014. The random model is initialized with the same seed (12), the get reproducible results. The run output is stored with the suffix `_commitment` in the working directory (`../working_directories/commitment_run_vas/`) as netCDF file.

  - `compare.py`: Evolution of length, area and volume of HEF over the HistAlp climate period (1802-2003). Comparing the volume/area scaling approach to the OGGM flowline model dynamics. The script uses data generated by `run_comparison.py`.

  - `comparison_function.py`: Combines the `run_comparison.py` and `compare.py` script into one routine, which can be called with the RGI ID and the glacier name as parameters (hence is more universal).

  - `eval_eq_runs.py`: Combines run output datasets from different (vas vs. flowline) model types into one. (I don't know anymore if I need that or not...)

  - `matlab_comparison.py`: The script compares the results of the original Matlab model to the results of the OGGM VAS model, during the iterative process of seeking the start area for the Hintereisferner.

  - `mb_calibration_vas_RGI6_HISTALP.py`: Simple script which adapts the massbalance calibration from the OGGM documentation (https://docs.oggm.org/en/latest/run_examples/run_mb_calibration.html) for the VAS model. (Could be deleted...) 

  - `mb_calibration_vas.py`: Run the mass balance calibration for the VAS model, whereby it is possible to specify the RGI version as well as the baseline climate (HistAlp or CRU).

  - `run_comparison.py`: Set up a full run with both evolution models, i.e. the volume/area scaling model and the OGGM flowline model, for the Upper Grindelwald Glacier. Both models run over the entire HistAlp period.

    The results are stored under `run_comparison.csv` in the `../data/` directory. The plots show the temporal evolution of glacier length, surface area and volume (for both models on the same axes) and are stored under `length/area/volume.png` in the `../plots/` directory. 

  - `run_oggm.py`: Set up a full run with the volume/area scaling model from start to finish. This includes: a) initialisation and calibration, b) the mass balance model, c) the 'dynamic' model. 

    The results are stored under `run_oggm.csv` in the `../data/` directory. The plots show the temporal evolution of glacier length, surface area and volume and are store under `length/area/volume_oggm.png` in the `../plots/` directory.

  - `seek_start_area.py`: First script working on the start area seeking task on the example of Hintereisferner. (Could be deleted now...)

  - `start_area.py`: Find model start areas (for 1851), using the iterative process from Marzeion, et.al. (2012). The routine includes all needed steps, only the RGI ID and the glacier's name must be specified. The script runs the task for all "reference" glaciers.

  - `tmp.py`: Temporary sandbox.

  - `unused_snippets.py`: Dead code walking: some routines which turned out to be unnecessary, but which couldn't be deleted yet (due to emotional attachments).

- `plots`: everything plotting related.

**Files:**

- `arma_order.py`:

- `check_match_geodetic_mb.py`:

- `check_scaling_params.py`:

- `complete_melt`:

- `equilibrium_run.py`: This script runs the VAS and flowline model for a single (or more) glacier(s) with a constant (or random) massbalance model, performing equilibrium experiments.

- `extract_wdirs`:

- `from_prepro`:

- `mb_calibration_vas.py`: Run the mass balance calibration for the VAS model, whereby it is possible to specify the RGI version as well as the baseline climate (HistAlp or CRU).

- `merge_area_quantile.py`: 

- `mb_calibration_vas_RGI6_HISTALP.py`: Simple script which adapts the massbalance calibration from the OGGM documentation (https://docs.oggm.org/en/latest/run_examples/run_mb_calibration.html) for the VAS model. (Could be deleted...) 

- `run_comparison.py`: Set up a full run with both evolution models, i.e. the volume/area scaling model and the OGGM flowline model, for the Upper Grindelwald Glacier. Both models run over the entire HistAlp period.

  The results are stored under `run_comparison.csv` in the `../data/` directory. The plots show the temporal evolution of glacier length, surface area and volume (for both models on the same axes) and are stored under `length/area/volume.png` in the `../plots/` directory. 

- `run_oggm.py`: Set up a full run with the volume/area scaling model from start to finish. This includes: a) initialisation and calibration, b) the mass balance model, c) the 'dynamic' model. 

  The results are stored under `run_oggm.csv` in the `../data/` directory. The plots show the temporal evolution of glacier length, surface area and volume and are store under `length/area/volume_oggm.png` in the `../plots/` directory.

- `run_vas.py`: Set up a full run with the volume/area scaling model from start to finish. This includes: a) initialisation and calibration, b) the mass balance model, c) the 'dynamic' model. 

  The results are stored under `run_vas.csv` in the `../data/` directory. The plots show the temporal evolution of glacier length, surface area and volume and are store under `length/area/volume_vas.png` in the `../plots/` directory.

- `seek_start_area.py`: First script working on the start area seeking task on the example of Hintereisferner. (Could be deleted now...)

- `start_area.py`: Find model start areas (for 1851), using the iterative process from Marzeion, et.al. (2012). The routine includes all needed steps, only the RGI ID and the glacier's name must be specified. The script runs the task for all "reference" glaciers.

- `tmp.py`: Temporary sandbox.

- `unused_snippets.py`: Dead code walking: some routines which turned out to be unnecessary, but which couldn't be deleted yet (due to emotional attachments).